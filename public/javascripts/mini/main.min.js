var addTestListener,html;html="<div class='row'>\n  <div class='col-xs-3'>\n    <input type='text' value='50%'>\n  </div>\n  <div class='col-xs-9'>\n    <a class='btn btn-default btn-100'>\n      Next test\n    </a>\n  </div>\n<div>",addTestListener=function(){return $(".btn-add-test").on("click",function(e){var t;return e.preventDefault(),t=$(".add_test"),t.before(html)})},$(document).ready(function(){return addTestListener()});var saveButtonListener;saveButtonListener=function(){return $("#save-action").on("click",function(e){return e.preventDefault(),$("nav").append('<div class="alert alert-success" role="alert">Saved!</div>'),$(".alert-success").delay(800).fadeOut(600)})},$(document).ready(function(){return saveButtonListener()});var DETAILS_FORM,EVENTS,TIME_FORM,closeModalListener,dayListener,detailsCTAListener,finaliseBookingListener,hideHour,hideMinute,hourPopoverListener,minutePopoverListener,popoverListener,responsiveCal,timeInputListener,timeListbuilder,timeListener,toggleModal;TIME_FORM="#time-form",DETAILS_FORM="#details-form",EVENTS={"2014-10-31":{number:5},"2014-10-20":{number:3},"2014-10-15":{number:9}},responsiveCal=function(){return $(".responsive-calendar").responsiveCalendar({time:"2014-10",events:EVENTS})},dayListener=function(){return $(".day").on("click",function(e){var t,n,r,a;return e.preventDefault(),t=$(e.target),n=t.data("day"),r=t.data("month"),a=t.data("year"),$("#full-date").text(""+n+"-"+r+"-"+a),toggleModal(TIME_FORM)})},closeModalListener=function(){return $(".close-modal").on("click",function(e){var t;return e.preventDefault(),t=$(e.target),toggleModal(TIME_FORM)})},timeListener=function(){return $(".hour").on("click",function(e){return e.preventDefault(),hideMinute()}),$(".minute").on("click",function(e){return e.preventDefault(),hideHour()})},hideMinute=function(){return $(".minute").popover("hide")},hideHour=function(){return $(".hour").popover("hide")},timeListbuilder=function(e){var t;return t=_.collect(e,function(e){return"<li class='time-input' data-value='"+e+"'><a class='time-link' href='#'>"+e+" <span class='badge'>2</a></a></li>"}),t.join("")},popoverListener=function(e,t){return $("."+t).popover({title:"Select booking "+t,html:"true",placement:"bottom",content:"<ul> "+timeListbuilder(e)+" </ul>"})},minutePopoverListener=function(){var e;return e=_.range(0,60,15),popoverListener(e,"minute"),timeInputListener()},hourPopoverListener=function(){var e;return e=_.range(9,18),popoverListener(e,"hour"),timeInputListener()},timeInputListener=function(){return $(".time-link").on("click",function(e){var t;return alert("click!"),e.preventDefault(),t=$(e.target)})},detailsCTAListener=function(){return $(".details").on("click",function(e){var t;return e.preventDefault(),t=$(e.target),toggleModal(DETAILS_FORM)})},finaliseBookingListener=function(){return $(".finalise-booking").on("click",function(e){var t;return e.preventDefault(),t=$(e.target),$("#finalise-booking").toggleClass("hidden")})},toggleModal=function(e){return $(e).toggleClass("hidden")},$(document).ready(function(){return responsiveCal(),window.setTimeout(dayListener,1e3),closeModalListener(),hourPopoverListener(),minutePopoverListener(),timeListener(),detailsCTAListener(),finaliseBookingListener()});var dashboardListener;dashboardListener=function(){return $(".metric").on("click",function(e){var t,n;return t=$(e.target),n=t.data("url"),window.location.href=n})},$(document).ready(function(){return dashboardListener()});var changeModelValue,changeVariantValue,drawVariant,drawVariants,financeCalcCloseListener,financeCalcInterestInputListener,financeCalcListener,financeCalcMobileInputListener,financeCalcUserInputListener,financeCalcYearsInputListener,getControl,minMaxNumber,numberWithCommas,suburbSearchInputSubmitListener,suburbSearchListener,toggleForm,updateEstimate,variantInputListener;toggleForm=function(e){var t,n,r;return r=e.data("type"),n=e.attr("class"),"variant"===r&&"finance-calculator"===n&&drawVariants(e),t="#"+r+"-input",$(t).toggleClass("hidden")},getControl=function(e){return $('a.finance-calculator[data-type="'+e+'"]')},changeModelValue=function(e){var t,n;return n=e.data("value"),t=getControl("model"),t.text(n)},changeVariantValue=function(e){var t,n;return n=e.data("variants"),t=getControl("variant"),t.text(n instanceof Array?n[0]:n),t.attr("data-value",n)},drawVariant=function(e){var t;return t=$("#variant-input ul"),t.append('<li class="list-group-item finance-calculator-variant-input" data-type="vaiant" data-value="'+e+'">'+e+"</li>")},drawVariants=function(e){var t,n;return n=e.data("value"),n=n.split(","),t=$("#variant-input ul"),t.find("li").remove(),_.each(n,drawVariant),variantInputListener()},variantInputListener=function(){return $(".finance-calculator-variant-input").on("click",function(e){var t,n,r;return e.preventDefault(),updateEstimate(),n=$($(e.target)[0]),r=n.data("value"),t=getControl("variant"),t.text(r),$("#variant-input").toggleClass("hidden")})},minMaxNumber=function(e,t){return numberWithCommas(Math.floor(Math.random()*t)+e)},numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},updateEstimate=function(){var e,t;return t=minMaxNumber(400,1500),e=minMaxNumber(4e4,15e4),$("#estimate-week").text("$"+t),$("#estimate-week-old").text(""),$("#estimate-total").text("$"+e),$("#estimate-total-old").text("")},financeCalcListener=function(){return $(".finance-calculator").on("click",function(e){var t;return e.preventDefault(),t=$(e.target),toggleForm(t)})},financeCalcMobileInputListener=function(){return $(".finance-calculator-model-input").on("click",function(e){var t;return e.preventDefault(),t=$(e.target),changeModelValue(t),changeVariantValue(t),updateEstimate(),toggleForm(t)})},financeCalcCloseListener=function(){return $(".finance-calculator-close").on("click",function(e){var t;return e.preventDefault(),t=$(e.target),toggleForm(t)})},suburbSearchListener=function(){return $("#suburb-search").on("focus",function(){var e,t;return e=[],t=1e3,_.times(7e3,function(){return t++,e.push(t.toString())}),$("#suburb-search").typeahead({source:e,items:15})})},suburbSearchInputSubmitListener=function(){return $("#suburb-input-submit").on("click",function(e){var t,n,r;return e.preventDefault(),r=$(e.target),n=$("#suburb-search").val(),t=getControl("suburb"),t.text(n),updateEstimate(),toggleForm(r)})},financeCalcUserInputListener=function(){return $(".finance-calculator-use-input").on("click",function(e){var t,n,r;return e.preventDefault(),n=$(e.target),r=n.data("value"),t=getControl("use"),t.text(r),updateEstimate(),toggleForm(n)})},financeCalcInterestInputListener=function(){return $(".finance-calculator-interest-input").on("click",function(e){var t,n,r;return e.preventDefault(),r=$(e.target),n=r.data("value"),t=getControl("interest"),t.text(n),updateEstimate(),toggleForm(r)})},financeCalcYearsInputListener=function(){return $(".finance-calculator-years-input").on("click",function(e){var t,n,r;return e.preventDefault(),n=$(e.target),r=n.data("value"),t=getControl("years"),t.text(r),updateEstimate(),toggleForm(n)})},$(document).ready(function(){return financeCalcListener(),financeCalcMobileInputListener(),financeCalcCloseListener(),suburbSearchListener(),suburbSearchInputSubmitListener(),financeCalcUserInputListener(),financeCalcInterestInputListener(),financeCalcYearsInputListener()});var formListener,initCheckbox,initTypeAhead,interestListener,substringMatcher;formListener=function(){return $("input").on("focus",function(e){var t;return t=$(e.target),t.parent().addClass("has-error"),window.onkeyup=function(){return t.parent().removeClass("has-error"),t.parent().addClass("has-success")}})},substringMatcher=function(e){var t;return t=function(t,n){var r,a;r=[],a=new RegExp(t,"i"),$.each(e,function(e,t){a.test(t)&&r.push({value:t})}),n(r)}},initTypeAhead=function(){var e;return e=["Joshua Wood","Evangelia Kirpichnikov","Samuel Teh","Andrew Mara","Josh Boyden","Kevin Goult","Nathan Johnson","Rolee Satyam","Merran Morton","Mike Hill","Justine Marino","Kevin Trinh","Trent Ellis"],$(".staff-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"staff",displayKey:"value",source:substringMatcher(e)})},initCheckbox=function(){return $(".checkbox-notifications").checkbox()},interestListener=function(){return $(".interest-item").on("click",function(e){var t;return t=$(e.target),t.toggleClass("active")})},$(document).ready(function(){return formListener(),initTypeAhead(),initCheckbox(),interestListener()});var questionFormListener;questionFormListener=function(){return $("submit#service-question").on("click",function(e){var t,n,r;return e.preventDefault(),n=$(e.target),t=n.parent(),r=t.find("textarea").val(),t.toggleClass("hidden"),$("#question-form-thanks").toggleClass("hidden"),$("#show-question").toggleClass("hidden"),$("#show-question").text(r)})},$(document).ready(function(){return questionFormListener()});var searchInputListener,searchListener;searchListener=function(){return $(".nav-search").on("click",function(e){return e.preventDefault(),$(".nav-search-form").toggleClass("hidden"),$(".nav-standard").toggleClass("hidden")})},searchInputListener=function(){return $("#nav-search-input").on("focus",function(){return $(".nav-search-results").removeClass("hidden")})},$(document).ready(function(){return searchListener(),searchInputListener()}),tinymce.initOptions=function(){return tinymce.init({selector:"textarea",menubar:!1,plugins:["link image table hr"],toolbar1:"bold italic underline | alignleft aligncenter alignright",toolbar2:"bullist numlist | link unlink anchor image media",toolbar3:"table | hr | blockquote | undo redo"})},$(document).ready(function(){return $("#richText")?tinymce.initOptions():void 0});var tripListListener;tripListListener=function(){return $(".trip-item").on("click",function(){return window.location.replace("/trips/redfern-to-north-sydney")})},$(document).ready(function(){return tripListListener()});