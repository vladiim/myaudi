// Generated by CoffeeScript 1.8.0
var formListener, initCheckbox, initTypeAhead, interestListener, substringMatcher;

formListener = function() {
  return $('input').on('focus', function(event) {
    var $target;
    $target = $(event.target);
    $target.parent().addClass('has-error');
    return window.onkeyup = function(event) {
      $target.parent().removeClass('has-error');
      return $target.parent().addClass('has-success');
    };
  });
};

substringMatcher = function(strs) {
  var findMatches;
  return findMatches = function(q, cb) {
    var matches, substrRegex;
    matches = [];
    substrRegex = new RegExp(q, "i");
    $.each(strs, function(i, str) {
      if (substrRegex.test(str)) {
        matches.push({
          value: str
        });
      }
    });
    cb(matches);
  };
};

initTypeAhead = function() {
  var staff;
  staff = ['Joshua Wood', 'Evangelia Kirpichnikov', 'Samuel Teh', 'Andrew Mara', 'Josh Boyden', 'Kevin Goult', 'Nathan Johnson', 'Rolee Satyam', 'Merran Morton', 'Mike Hill', 'Justine Marino', 'Kevin Trinh', 'Trent Ellis'];
  return $('.staff-search').typeahead({
    hint: true,
    highlight: true,
    minLength: 1
  }, {
    name: 'staff',
    displayKey: 'value',
    source: substringMatcher(staff)
  });
};

initCheckbox = function() {
  return $('.checkbox-notifications').checkbox();
};

interestListener = function() {
  return $('.interest-item').on('click', function(event) {
    var $target;
    $target = $(event.target);
    return $target.toggleClass('active');
  });
};

$(document).ready(function() {
  formListener();
  initTypeAhead();
  initCheckbox();
  return interestListener();
});
